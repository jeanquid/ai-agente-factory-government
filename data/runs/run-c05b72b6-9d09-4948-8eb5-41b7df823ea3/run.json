{
  "runId": "c05b72b6-9d09-4948-8eb5-41b7df823ea3",
  "tenantId": "default",
  "mission": " crea una app de meteorologia",
  "createdAt": "2026-02-15T14:26:17.291Z",
  "workflow": {
    "order": [
      "javier",
      "fabricio",
      "martin",
      "damian",
      "agustina",
      "lucas"
    ],
    "currentStep": 0
  },
  "steps": [
    {
      "step": 1,
      "agentId": "javier",
      "status": "in_review",
      "finishedAt": "2026-02-15T14:27:09.215Z",
      "deliverables": {
        "outputJson": {
          "systemPromptV0_1": {
            "filename": "System_Prompt_AgenteMeteorologico_v0.1.md",
            "content": "### Role\nEres el Agente de Datos Meteorológicos, un componente especializado dentro de la aplicación de meteorología.\n\n### Task\nTu misión es obtener, procesar y estructurar de manera precisa y oportuna la información meteorológica actual y pronosticada para una ubicación geográfica específica. Debes ser capaz de manejar solicitudes para diferentes ciudades o coordenadas.\n\n### Context\nLa aplicación requiere información detallada para su presentación al usuario. La información debe ser:\n-   **Actual:** Condiciones meteorológicas en tiempo real (o con la mínima latencia posible).\n-   **Pronosticada:** Un pronóstico extendido que cubra al menos los próximos 3 a 5 días, incluyendo temperaturas máximas y mínimas, y un resumen de las condiciones.\n-   **Detalle por hora (opcional pero deseable):** Pronóstico por hora para las próximas 24-48 horas.\n-   **Métricas:** Incluir temperatura (en °C y °F), humedad relativa, velocidad y dirección del viento, probabilidad de precipitación, índice UV, y descripción del estado del cielo (soleado, nublado, lluvia, etc.).\n-   **Fuente:** Preferiblemente usar APIs de meteorología reconocidas y fiables (e.g., OpenWeatherMap, AccuWeather, etc.).\n\n### Output Format\nLa salida debe ser un objeto JSON estructurado que contenga:\n```json\n{\n  \"ubicacion\": {\n    \"nombreCiudad\": \"[Nombre de la ciudad]\",\n    \"latitud\": [latitud],\n    \"longitud\": [longitud]\n  },\n  \"actual\": {\n    \"temperaturaC\": [valor],\n    \"temperaturaF\": [valor],\n    \"descripcion\": \"[string]\",\n    \"humedad\": [valor]%,\n    \"vientoVelocidad\": [valor] \"km/h\" o \"mph\",\n    \"vientoDireccion\": \"[string]\",\n    \"indiceUV\": [valor],\n    \"sensacionTermicaC\": [valor],\n    \"sensacionTermicaF\": [valor],\n    \"icono\": \"[url_o_codigo_icono]\"\n  },\n  \"pronosticoDiario\": [\n    {\n      \"fecha\": \"YYYY-MM-DD\",\n      \"diaSemana\": \"[string]\",\n      \"tempMaxC\": [valor],\n      \"tempMinC\": [valor],\n      \"tempMaxF\": [valor],\n      \"tempMinF\": [valor],\n      \"descripcion\": \"[string]\",\n      \"probabilidadPrecipitacion\": [valor]%,\n      \"icono\": \"[url_o_codigo_icono]\"\n    }\n    // ... para 3-5 días\n  ],\n  \"pronosticoHorario\": [\n    {\n      \"hora\": \"HH:MM\",\n      \"temperaturaC\": [valor],\n      \"temperaturaF\": [valor],\n      \"descripcion\": \"[string]\",\n      \"probabilidadPrecipitacion\": [valor]%,\n      \"icono\": \"[url_o_codigo_icono]\"\n    }\n    // ... para las próximas 24-48 horas\n  ],\n  \"metadata\": {\n    \"ultimaActualizacion\": \"YYYY-MM-DDTHH:MM:SSZ\",\n    \"fuenteDatos\": \"[Nombre de la API]\"\n  }\n}\n```\n\n### Anti-Hallucination Constraints\n-   **No Inventes Datos:** Si no puedes obtener un dato específico de la API, devuélvelo como `null` o `\"N/A\"` y no intentes inferirlo.\n-   **Reporta Errores:** En caso de fallos en la conexión con la API o datos inconsistentes, devuelve un mensaje de error claro en un formato JSON específico para errores (e.g., `{\"error\": \"[mensaje]\", \"codigo\": [codigo_http]}`).\n-   **Verifica Unidades:** Asegúrate de que las unidades de temperatura, velocidad del viento, etc., sean consistentes o claramente etiquetadas."
          },
          "cognitiveFlowDiagram": {
            "filename": "Diagrama_Flujo_Cognitivo_Meteorologia.mmd",
            "content": "graph TD\n    A[Inicio: Usuario Abre App o Busca Ubicación] --> B{¿Ubicación Actual o Búsqueda?}\n    B -->|Ubicación Actual| C[Obtener Coordenadas del Dispositivo]\n    B -->|Búsqueda Manual| D[Ingresar Nombre de Ciudad/Código Postal]\n    C --> E[Validar Coordenadas]\n    D --> F[Resolver Nombre a Coordenadas (Geocoding API)]\n    E --> G{Coordenadas Válidas?}\n    F --> G\n    G -->|Sí| H[Enviar Coordenadas a Agente de Datos Meteorológicos (System Prompt)]\n    G -->|No| I[Mostrar Error: Ubicación no Válida]\n    H --> J[Agente de Datos Meteorológicos: Obtener Datos de API Externa]\n    J --> K{Datos Recibidos y Procesados?}\n    K -->|Sí| L[Procesar y Formatear Datos para UI]\n    K -->|No| M[Mostrar Error: Fallo al Obtener Datos Meteorológicos]\n    L --> N[Mostrar Datos Meteorológicos al Usuario (UI)]\n    N --> O[Fin: Interacción del Usuario (Actualizar, Cambiar Ubicación)]\n    O --> A\n    O --> P[Cerrar App]"
          },
          "acceptanceCriteriaDocument": {
            "filename": "Criterios_Aceptacion_App_Meteorologia.md",
            "content": "## Criterios de Aceptación para la Aplicación de Meteorología\n\nEste documento describe los criterios de aceptación clave que la aplicación debe cumplir para ser considerada funcional y exitosa.\n\n### Funcionalidades Básicas\n*   **AC1: Visualización de Condiciones Actuales:** La aplicación debe mostrar la temperatura actual (en °C y °F), la descripción del cielo (e.g., 'Soleado', 'Parcialmente Nublado'), la humedad, la velocidad del viento, el índice UV y la sensación térmica para la ubicación seleccionada por el usuario.\n*   **AC2: Pronóstico Diario:** La aplicación debe presentar un pronóstico extendido de al menos 3 días (idealmente 5 días), mostrando la temperatura máxima y mínima para cada día, junto con un icono y una breve descripción de las condiciones esperadas.\n*   **AC3: Pronóstico Horario:** La aplicación debe ofrecer un pronóstico detallado por hora para las próximas 24-48 horas, incluyendo temperatura, descripción e icono.\n\n### Interacción con el Usuario\n*   **AC4: Búsqueda de Ubicación:** El usuario debe poder buscar y seleccionar una ubicación (ciudad, pueblo) escribiendo su nombre en una barra de búsqueda. La aplicación debe sugerir resultados a medida que el usuario escribe.\n*   **AC5: Ubicación Actual:** La aplicación debe ser capaz de detectar y mostrar automáticamente el clima de la ubicación actual del dispositivo del usuario (requiere permisos de ubicación).\n*   **AC6: Gestión de Unidades:** El usuario debe poder alternar entre unidades métricas (°C, km/h) e imperiales (°F, mph) para todas las métricas meteorológicas.\n*   **AC7: Actualización de Datos:** La aplicación debe permitir al usuario actualizar manualmente los datos meteorológicos (e.g., con un gesto de 'pull-to-refresh'). Los datos deben actualizarse automáticamente periódicamente (e.g., cada 15-30 minutos) cuando la aplicación esté en primer plano.\n\n### Rendimiento y Fiabilidad\n*   **AC8: Tiempos de Carga:** Los datos meteorológicos deben cargarse y mostrarse en pantalla en menos de 3 segundos bajo condiciones de red normales.\n*   **AC9: Manejo de Errores:** La aplicación debe mostrar mensajes de error claros y amigables al usuario si no se pueden obtener los datos meteorológicos (e.g., problemas de conexión a internet, ubicación no encontrada).\n*   **AC10: Consistencia de Datos:** La información meteorológica mostrada debe ser consistente con la fuente de datos externa y reflejar la información más reciente disponible."
          }
        },
        "summaryMarkdown": "## Planificación Inicial de la App de Meteorología\n\nComo Guyra, 'The Brain', he completado la fase inicial de diseño para una aplicación de meteorología. Esto incluye la conceptualización del 'Agente de Datos Meteorológicos' a través de un `System Prompt` detallado, que define su rol, tarea, contexto y formato de salida JSON. Este agente será el corazón de la app, responsable de la adquisición y estructuración de la información climática.\n\nSe ha elaborado un `Diagrama de Flujo Cognitivo` utilizando MermaidJS, que ilustra el proceso desde la interacción inicial del usuario hasta la presentación de los datos, incluyendo la validación de ubicaciones y el manejo de errores. Este flujo servirá como hoja de ruta para el desarrollo de la lógica de la aplicación.\n\nFinalmente, se ha redactado un documento de `Criterios de Aceptación` preliminares. Estos criterios abarcan funcionalidades básicas, interacción con el usuario, rendimiento y fiabilidad, sentando las bases para la validación del producto final y asegurando que cumpla con las expectativas de funcionalidad y experiencia de usuario.",
        "todoMarkdown": "Actionable steps:\n- **Desarrollo del Agente de Datos:** Implementar el 'Agente de Datos Meteorológicos' siguiendo el `System_Prompt_AgenteMeteorologico_v0.1.md`.\n- **Selección e Integración de API:** Investigar y seleccionar una API de meteorología robusta (e.g., OpenWeatherMap, AccuWeather) e integrarla con el Agente de Datos.\n- **Diseño de Interfaz de Usuario (UI/UX):** Crear wireframes y mockups basados en los `Criterios_Aceptacion_App_Meteorologia.md` para visualizar cómo se presentarán los datos al usuario.\n- **Desarrollo del Módulo de Geocodificación:** Implementar la funcionalidad para convertir nombres de ciudades en coordenadas geográficas y viceversa.\n- **Pruebas Unitarias del Agente de Datos:** Realizar pruebas exhaustivas para asegurar que el Agente de Datos recupera, procesa y formatea la información correctamente y maneja los errores según lo especificado."
      },
      "pdfUrl": "/api/runs/c05b72b6-9d09-4948-8eb5-41b7df823ea3/steps/1/pdf"
    },
    {
      "step": 2,
      "agentId": "fabricio",
      "status": "pending"
    },
    {
      "step": 3,
      "agentId": "martin",
      "status": "pending"
    },
    {
      "step": 4,
      "agentId": "damian",
      "status": "pending"
    },
    {
      "step": 5,
      "agentId": "agustina",
      "status": "pending"
    },
    {
      "step": 6,
      "agentId": "lucas",
      "status": "pending"
    }
  ],
  "artifacts": []
}